<div class="flex">
  <div class="container mx-auto p-4">
    <h2 class="font-bold text-[27px] lg:text-[36px] section-title inline-block">New & Trending</h2>
    <form class="flex flex-col space-y-4 lg:flex-row lg:justify-between items-center my-8" [formGroup]="filters">
      <input formControlName="search" type="text"
             class="bg-[#1A3A53] rounded-full h-[40px] border-transparent px-4 py-2 w-full lg:w-[273px]"
             placeholder="Search">
      <label for="sort" class="flex items-center">
        <span>Sort by:</span>
        <select formControlName="sortBy" id="sort"
                class="block border-transparent ml-4 rounded-full px-4 w-[263px] py-2 h-[40px] bg-[#1A3A53]">
          <option value="price">Price</option>
          <option value="title">Title</option>
        </select>
      </label>

    </form>
    <div class="flex flex-col space-y-8" infiniteScroll
         [infiniteScrollDistance]="0"
         [infiniteScrollThrottle]="500"
         (scrolled)="onScroll()">
      <ng-container *ngIf="games">
        <ng-container *ngIf="games.length; else noData">
          <app-game-card *ngFor="let game of games" [game]="game"></app-game-card>
        </ng-container>
        <ng-template #noData>
          <div class="flex flex-col items-center">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--fontisto w-12 h-12" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12 1.316C6.099 1.316 1.316 6.099 1.316 12S6.099 22.684 12 22.684S22.684 17.901 22.684 12c-.012-5.896-4.788-10.672-10.683-10.684H12zm0 22.297C5.586 23.613.387 18.414.387 12S5.586.387 12 .387S23.613 5.586 23.613 12v.015c0 6.405-5.192 11.597-11.597 11.597H12h.001z"></path><path fill="currentColor" d="M12 24C5.386 23.966.034 18.614 0 12.003V12C.034 5.386 5.386.034 11.997 0H12c6.614.034 11.966 5.386 12 11.997V12c-.034 6.614-5.386 11.966-11.997 12zM12 .774C5.8.774.774 5.8.774 12S5.8 23.226 12 23.226S23.226 18.2 23.226 12C23.222 5.802 18.198.779 12.001.774zm0 22.297C5.886 23.071.929 18.114.929 12S5.886.929 12 .929c6.122.02 11.084 4.955 11.148 11.065V12c-.064 6.115-5.027 11.051-11.146 11.071zm0-21.368C6.313 1.703 1.703 6.313 1.703 12S6.313 22.297 12 22.297S22.297 17.687 22.297 12c-.026-5.676-4.62-10.271-10.294-10.297h-.002z"></path><path fill="currentColor" d="M9.677 9.91a2.09 2.09 0 0 1-4.18 0v-.009c0-1.15.932-2.082 2.082-2.082h.018c1.15 0 2.082.932 2.082 2.082v.009zm8.904 0v.009c0 1.15-.932 2.082-2.082 2.082h-.009a2.09 2.09 0 0 1 0-4.18a2.132 2.132 0 0 1 2.09 2.088v.002zM7.355 18.581a.491.491 0 0 1-.464-.384l-.001-.003a.462.462 0 0 1 .078-.311l-.001.002a1.05 1.05 0 0 1 .304-.229l.006-.003l9.832-2.168a.462.462 0 0 1 .311.078l-.002-.001c.094.087.172.189.229.304l.003.006a.44.44 0 0 1-.306.541l-.003.001l-9.91 2.168h-.077z"></path><path fill="currentColor" d="m7.355 18.968l-.032.001a.754.754 0 0 1-.741-.615l-.001-.005a.815.815 0 0 1 .079-.623l-.002.004c.145-.168.326-.3.533-.384l.009-.003l9.832-2.245a.815.815 0 0 1 .623.079l-.004-.002c.168.145.3.326.384.533l.003.009a.826.826 0 0 1-.614 1.006l-.006.001l-9.91 2.245zm9.91-3.097l-9.91 2.245l-.077.077l.077.077l9.91-2.245c0-.077.077-.077 0-.155z"></path></svg>
            <h1 class="font-bold text-2xl opacity-50">No games found</h1>
          </div>
        </ng-template>
      </ng-container>
      <div class="flex justify-center py-4" *ngIf="loading">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
             class="iconify iconify--eos-icons" width="32" height="32" preserveAspectRatio="xMidYMid meet"
             viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z"
                opacity=".5"></path>
          <path fill="currentColor" d="M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z">
            <animateTransform attributeName="transform" dur="1s" from="0 12 12" repeatCount="indefinite" to="360 12 12"
                              type="rotate"></animateTransform>
          </path>
        </svg>
      </div>

    </div>
  </div>
</div>
